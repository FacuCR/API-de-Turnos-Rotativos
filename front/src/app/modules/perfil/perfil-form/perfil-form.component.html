<mat-progress-bar
  *ngIf="cargando"
  class="position-fixed"
  mode="indeterminate"
></mat-progress-bar>

<section
  class="perfil vh-100 mw-100 d-flex flex-column align-items-center justify-content-center"
>
  <div class="perfil__form p-5 mat-elevation-z12 d-flex flex-column justify-content-center">
    <h1 class="texto--principal">Perfil</h1>
    <p class="texto--secundario">Cambia tus datos</p>
    <form
      #formGroupDirective
      [formGroup]="form"
      method="POST"
      (ngSubmit)="onSubmit()"
      class="d-flex flex-column"
    >
      <mat-form-field
        [ngClass]="{ 'mat-form-field-invalid': isInvalido }"
        appearance="outline"
        color="primary"
        class="mb-3"
      >
        <mat-label>Nombre</mat-label>
        <input
          matInput
          placeholder="ej: Lionel"
          formControlName="nombre"
          minlength="2"
          maxlength="20"
          required
        />
        <mat-error>{{ getMensajeDeError("nombre") }}</mat-error>
      </mat-form-field>

      <mat-form-field
        [ngClass]="{ 'mat-form-field-invalid': isInvalido }"
        appearance="outline"
        color="primary"
        class="mb-3"
      >
        <mat-label>Apellido</mat-label>
        <input
          matInput
          placeholder="ej: Messi"
          formControlName="apellido"
          minlength="2"
          maxlength="20"
          required
        />
        <mat-error>{{ getMensajeDeError("apellido") }}</mat-error>
      </mat-form-field>

      <mat-form-field
        [ngClass]="{ 'mat-form-field-invalid': isInvalido }"
        appearance="outline"
        color="primary"
      >
        <mat-label>Antiguedad (Opcional)</mat-label>
        <input
          matInput
          type="number"
          formControlName="antiguedad"
          max="80"
          min="0"
        /><mat-error>{{
          getMensajeDeError("antiguedad")
        }}</mat-error></mat-form-field
      >

      <button
        type="submit"
        mat-raised-button
        class="btn-lg mat-elevation-z2"
        color="primary"
        [disabled]="!form.valid"
      >
        Guardar Datos
      </button>
    </form>
    <button
      mat-raised-button
      class="btn-lg mt-4 mat-elevation-z2"
      color="accent"
      (click)="backClicked()"
    >
      Volver al Inicio
    </button>
    <div class="texto mt-3 d-flex justify-content-center align-items-center">
      <div class="texto--exitoso" *ngIf="perfilExitoso">
        {{ perfilExitoso }}
      </div>
      <mat-error *ngIf="perfilError">{{ perfilError }}</mat-error>
    </div>
  </div>
</section>
